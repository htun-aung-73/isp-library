{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/components/signout-button.tsx"],"sourcesContent":["\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\n\nexport function SignOutButton() {\n  const handleSignOut = async () => {\n    await fetch(\"/api/auth/logout\", { method: \"POST\" })\n    window.location.href = \"/auth/login\"\n  }\n\n  return (\n    <Button variant=\"outline\" size=\"sm\" onClick={handleSignOut}>\n      Sign Out\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,MAAM,gBAAgB;QACpB,MAAM,MAAM,oBAAoB;YAAE,QAAQ;QAAO;QACjD,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,6TAAC,wIAAM;QAAC,SAAQ;QAAU,MAAK;QAAK,SAAS;kBAAe;;;;;;AAIhE;KAXgB"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/lib/baserow/types.ts"],"sourcesContent":["// Baserow API Types\n\n/**\n * Generic Baserow list response wrapper\n */\nexport interface BaserowListResponse<T> {\n    count: number\n    next: string | null\n    previous: string | null\n    results: T[]\n}\nexport interface LinkData {\n    id: string,\n    order?: string | null,\n    value: string | null,\n}\n/**\n * Author from Baserow (table 772588)\n */\nexport interface BaserowAuthor {\n    id: string,\n    order: string,\n    author_id: string | null,\n    name: string,\n    books: LinkData[]\n}\n\n/**\n * Publisher from Baserow (table 772593)\n */\nexport interface BaserowPublisher {\n    id: string\n    order: string\n    publisher_id: string | null,\n    name: string,\n    books: LinkData[]\n}\n\n/**\n * Book from Baserow (table 772570)\n * Field names match actual Baserow table columns\n */\nexport interface BaserowBook {\n    id: string\n    order: string\n    book_id?: string | null\n    author_name?: string | LinkData[] | null\n    title: string\n    language: string | null\n    place_of_publication?: string | null\n    publisher_name?: string | LinkData[] | null\n    year_of_publication?: number | null\n    edition?: string | null  // Note: typo in original field name\n    price?: number | null\n    class_number?: string | null\n    source?: string | null\n    notes?: string | null\n    lost_damage?: string | null\n    note?: string | null\n}\n\n/**\n * User from Baserow (table 772601)\n */\nexport interface BaserowUser {\n    id: string\n    order: string\n    user_id: string\n    username: string\n    email: string\n    password: string\n    is_admin: boolean\n}\n\n/**\n * Borrowed Book from Baserow (table 772607)\n */\nexport interface BaserowBorrowedBook {\n    id: string\n    order: string\n    borrow_id: string\n    book_id?: LinkData[] | null\n    user_id?: LinkData[] | null\n    borrowed_at: string\n    due_date: string\n    returned_at?: string | null\n    status: \"borrowed\" | \"returned\" | \"overdue\"\n}\n\n/**\n * Session user (stored in cookie/localStorage)\n */\nexport interface SessionUser {\n    id: string\n    user_id: string\n    email: string\n    username: string\n    isAdmin: boolean\n}\n\n/**\n * Mapped types for frontend consumption\n */\nexport interface Author {\n    id: string\n    author_id: string | null\n    name: string\n    books: LinkData[]\n}\n\nexport interface Publisher {\n    id: string\n    publisher_id: string | null\n    name: string\n    books: LinkData[]\n}\n\nexport interface Book {\n    id: string\n    book_id: string | null\n    title: string\n    author_name: string | null\n    language: string | null\n    author_id?: string | null\n    publisher_name: string | null\n    place_of_publication: string | null\n    published_year: number | null\n    edition: string | null\n    price: number | null\n    class_number: string | null\n    source: string | null\n    notes: string | null\n    created_at: string\n}\n\nexport interface BorrowedBook {\n    id: string\n    borrow_id: string\n    book_id?: string | null\n    user_id?: string | null\n    borrowed_at: string\n    due_date: string\n    returned_at: string | null\n    status: \"borrowed\" | \"returned\" | \"overdue\"\n}\n\nexport interface UserProfile {\n    id: string\n    user_id: string | null\n    username: string | null\n    email: string | null\n    is_admin: boolean\n    created_at?: string\n    updated_at?: string\n}\n\n/**\n * Mapper functions to convert Baserow types to frontend types\n */\nexport function mapBaserowAuthorToAuthor(author: BaserowAuthor): Author {\n    return {\n        id: author.id,\n        author_id: author.author_id,\n        name: author.name,\n        books: author.books,\n    }\n}\n\nexport function mapBaserowBookToBook(book: BaserowBook): Book {\n    const authorName = Array.isArray(book.author_name) && book.author_name.length > 0\n        ? book.author_name[0].value\n        : (typeof book.author_name === 'string' ? book.author_name : null);\n\n    return {\n        id: book.id,\n        book_id: book.book_id ?? null,\n        title: book.title,\n        author_name: authorName ?? null,\n        language: book.language ?? null,\n        publisher_name: Array.isArray(book.publisher_name) && book.publisher_name.length > 0 ? book.publisher_name[0].value : null,\n        place_of_publication: book.place_of_publication ?? null,\n        published_year: book.year_of_publication ?? null,\n        edition: book.edition ?? null,\n        price: book.price ?? null,\n        class_number: book.class_number ?? null,\n        source: book.source ?? null,\n        notes: book.notes ?? null,\n        created_at: new Date().toISOString(),\n    }\n}\n\nexport function mapBaserowUserToProfile(user: BaserowUser): UserProfile {\n    return {\n        id: user.id,\n        user_id: user.user_id ?? null,\n        username: user.username ?? null,\n        email: user.email,\n        is_admin: user.is_admin,\n    }\n}\n\nexport function mapBaserowBorrowedBook(borrowed: BaserowBorrowedBook): BorrowedBook {\n    return {\n        id: borrowed.id,\n        borrow_id: borrowed.borrow_id,\n        book_id: borrowed.book_id?.[0].value,\n        user_id: borrowed.user_id?.[0].value,\n        borrowed_at: borrowed.borrowed_at,\n        due_date: borrowed.due_date,\n        returned_at: borrowed.returned_at ?? null,\n        status: borrowed.status,\n    }\n}\n"],"names":[],"mappings":"AAAA,oBAAoB;AAEpB;;CAEC;;;;;;;;;;AA2JM,SAAS,yBAAyB,MAAqB;IAC1D,OAAO;QACH,IAAI,OAAO,EAAE;QACb,WAAW,OAAO,SAAS;QAC3B,MAAM,OAAO,IAAI;QACjB,OAAO,OAAO,KAAK;IACvB;AACJ;AAEO,SAAS,qBAAqB,IAAiB;IAClD,MAAM,aAAa,MAAM,OAAO,CAAC,KAAK,WAAW,KAAK,KAAK,WAAW,CAAC,MAAM,GAAG,IAC1E,KAAK,WAAW,CAAC,EAAE,CAAC,KAAK,GACxB,OAAO,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,GAAG;IAEjE,OAAO;QACH,IAAI,KAAK,EAAE;QACX,SAAS,KAAK,OAAO,IAAI;QACzB,OAAO,KAAK,KAAK;QACjB,aAAa,cAAc;QAC3B,UAAU,KAAK,QAAQ,IAAI;QAC3B,gBAAgB,MAAM,OAAO,CAAC,KAAK,cAAc,KAAK,KAAK,cAAc,CAAC,MAAM,GAAG,IAAI,KAAK,cAAc,CAAC,EAAE,CAAC,KAAK,GAAG;QACtH,sBAAsB,KAAK,oBAAoB,IAAI;QACnD,gBAAgB,KAAK,mBAAmB,IAAI;QAC5C,SAAS,KAAK,OAAO,IAAI;QACzB,OAAO,KAAK,KAAK,IAAI;QACrB,cAAc,KAAK,YAAY,IAAI;QACnC,QAAQ,KAAK,MAAM,IAAI;QACvB,OAAO,KAAK,KAAK,IAAI;QACrB,YAAY,IAAI,OAAO,WAAW;IACtC;AACJ;AAEO,SAAS,wBAAwB,IAAiB;IACrD,OAAO;QACH,IAAI,KAAK,EAAE;QACX,SAAS,KAAK,OAAO,IAAI;QACzB,UAAU,KAAK,QAAQ,IAAI;QAC3B,OAAO,KAAK,KAAK;QACjB,UAAU,KAAK,QAAQ;IAC3B;AACJ;AAEO,SAAS,uBAAuB,QAA6B;IAChE,OAAO;QACH,IAAI,SAAS,EAAE;QACf,WAAW,SAAS,SAAS;QAC7B,SAAS,SAAS,OAAO,EAAE,CAAC,EAAE,CAAC;QAC/B,SAAS,SAAS,OAAO,EAAE,CAAC,EAAE,CAAC;QAC/B,aAAa,SAAS,WAAW;QACjC,UAAU,SAAS,QAAQ;QAC3B,aAAa,SAAS,WAAW,IAAI;QACrC,QAAQ,SAAS,MAAM;IAC3B;AACJ"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/lib/redux/slices/authSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { SessionUser } from \"../../baserow/types\"\n\ninterface AuthState {\n    user: SessionUser | null\n    isAuthenticated: boolean\n}\n\nconst initialState: AuthState = {\n    user: null,\n    isAuthenticated: false,\n}\n\nconst authSlice = createSlice({\n    name: \"auth\",\n    initialState,\n    reducers: {\n        setCredentials: (\n            state,\n            action: PayloadAction<{ user: SessionUser }>\n        ) => {\n            state.user = action.payload.user\n            state.isAuthenticated = true\n        },\n        logout: (state) => {\n            state.user = null\n            state.isAuthenticated = false\n        },\n    },\n    selectors: {\n        selectUser: (state) => state.user,\n        selectIsAuthenticated: (state) => state.isAuthenticated,\n    },\n})\n\nexport const { setCredentials, logout } = authSlice.actions\nexport const { selectUser, selectIsAuthenticated } = authSlice.selectors\nexport default authSlice.reducer\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAQA,MAAM,eAA0B;IAC5B,MAAM;IACN,iBAAiB;AACrB;AAEA,MAAM,YAAY,IAAA,qZAAW,EAAC;IAC1B,MAAM;IACN;IACA,UAAU;QACN,gBAAgB,CACZ,OACA;YAEA,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI;YAChC,MAAM,eAAe,GAAG;QAC5B;QACA,QAAQ,CAAC;YACL,MAAM,IAAI,GAAG;YACb,MAAM,eAAe,GAAG;QAC5B;IACJ;IACA,WAAW;QACP,YAAY,CAAC,QAAU,MAAM,IAAI;QACjC,uBAAuB,CAAC,QAAU,MAAM,eAAe;IAC3D;AACJ;AAEO,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO;AACpD,MAAM,EAAE,UAAU,EAAE,qBAAqB,EAAE,GAAG,UAAU,SAAS;uCACzD,UAAU,OAAO"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/lib/redux/services/baserowApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\"\nimport {\n    Book,\n    Author,\n    BorrowedBook,\n    SessionUser,\n    BaserowAuthor,\n    mapBaserowAuthorToAuthor,\n} from \"../../baserow/types\"\nimport { setCredentials, logout } from \"../slices/authSlice\"\n\n// Define a service using a base URL and expected endpoints\nexport const baserowApi = createApi({\n    reducerPath: \"baserowApi\",\n    baseQuery: fetchBaseQuery({ baseUrl: \"/\" }),\n    tagTypes: [\"Book\", \"BorrowedBook\", \"User\"],\n    endpoints: (builder) => ({\n        // Books\n        getBooks: builder.query<Book[], void>({\n            query: () => \"api/books\",\n            providesTags: (result) =>\n                result\n                    ? [\n                        ...result.map(({ id }) => ({ type: \"Book\" as const, id })),\n                        { type: \"Book\", id: \"LIST\" },\n                    ]\n                    : [{ type: \"Book\", id: \"LIST\" }],\n        }),\n        getBookById: builder.query<Book, string>({\n            query: (id) => `api/books/${id}`,\n            providesTags: (result, error, id) => [{ type: \"Book\", id }],\n        }),\n        getAuthors: builder.query<Author[], void>({\n            query: () => \"api/authors\",\n            transformResponse: (response: BaserowAuthor[]) =>\n                response.map(mapBaserowAuthorToAuthor),\n        }),\n\n        // Borrowing\n        borrowBook: builder.mutation<BorrowedBook, { bookId: string; userId: string; dueDate: string }>({\n            query: (body) => ({\n                url: \"api/borrow\",\n                method: \"POST\",\n                body,\n            }),\n            invalidatesTags: (result, error, { bookId }) => [\n                { type: \"Book\", id: bookId },\n                { type: \"BorrowedBook\", id: \"LIST\" }, // Invalidate user's borrowed list\n            ],\n        }),\n        returnBook: builder.mutation<void, { borrowId: string; bookId: string; availableCopies: number }>({\n            query: (body) => ({\n                url: \"api/return\",\n                method: \"POST\",\n                body,\n            }),\n            invalidatesTags: (result, error, { bookId }) => [\n                { type: \"Book\", id: bookId },\n                { type: \"BorrowedBook\", id: \"LIST\" },\n            ],\n        }),\n        getBorrowedBooks: builder.query<BorrowedBook[], string>({\n            queryFn: async (userId) => {\n                const { getBorrowedBooks } = await import(\"../../baserow/client\")\n                const data = await getBorrowedBooks(userId)\n                return { data }\n            },\n            providesTags: [{ type: \"BorrowedBook\", id: \"LIST\" }],\n        }),\n\n        // Auth\n        login: builder.mutation<SessionUser, { email: string; password: string }>({\n            query: (credentials) => ({\n                url: \"api/auth/login\",\n                method: \"POST\",\n                body: credentials,\n            }),\n            transformResponse: (response: { success: boolean; user: SessionUser }) => response.user,\n            // Use onQueryStarted to dispatch setCredentials\n            async onQueryStarted(arg, { dispatch, queryFulfilled }) {\n                try {\n                    const { data } = await queryFulfilled\n                    dispatch(setCredentials({ user: data }))\n                } catch (err) {\n                    // Login failed\n                }\n            },\n        }),\n        logout: builder.mutation<void, void>({\n            query: () => ({\n                url: \"api/auth/logout\",\n                method: \"POST\",\n            }),\n            async onQueryStarted(arg, { dispatch, queryFulfilled }) {\n                try {\n                    await queryFulfilled\n                    dispatch(logout())\n                    // Ideally we also clear cache?\n                    dispatch(baserowApi.util.resetApiState())\n                } catch (err) { }\n            },\n        }),\n    }),\n})\n\nexport const {\n    useGetBooksQuery,\n    useGetBookByIdQuery,\n    useGetAuthorsQuery,\n    useBorrowBookMutation,\n    useReturnBookMutation,\n    useGetBorrowedBooksQuery,\n    useLoginMutation,\n    useLogoutMutation,\n} = baserowApi\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/lib/redux/store.ts"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\"\nimport { baserowApi } from \"./services/baserowApi\"\nimport authReducer from \"./slices/authSlice\"\n\nexport const makeStore = () => {\n    return configureStore({\n        reducer: {\n            auth: authReducer,\n            [baserowApi.reducerPath]: baserowApi.reducer,\n        },\n        middleware: (getDefaultMiddleware) =>\n            getDefaultMiddleware().concat(baserowApi.middleware),\n    })\n}\n\n// Infer the type of makeStore\nexport type AppStore = ReturnType<typeof makeStore>\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<AppStore[\"getState\"]>\nexport type AppDispatch = AppStore[\"dispatch\"]\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,YAAY;IACrB,OAAO,IAAA,wZAAc,EAAC;QAClB,SAAS;YACL,MAAM,iJAAW;YACjB,CAAC,uJAAU,CAAC,WAAW,CAAC,EAAE,uJAAU,CAAC,OAAO;QAChD;QACA,YAAY,CAAC,uBACT,uBAAuB,MAAM,CAAC,uJAAU,CAAC,UAAU;IAC3D;AACJ"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Documents/web/library-management-system/lib/redux/provider.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef } from \"react\"\nimport { Provider } from \"react-redux\"\nimport { makeStore, AppStore } from \"./store\"\nimport { setCredentials } from \"./slices/authSlice\"\nimport { SessionUser } from \"../baserow/types\"\n\nexport default function ReduxProvider({\n    children,\n    user,\n}: {\n    children: React.ReactNode\n    user: SessionUser | null\n}) {\n    const storeRef = useRef<AppStore | null>(null)\n    if (!storeRef.current) {\n        // Create the store instance the first time this renders\n        storeRef.current = makeStore()\n\n        // Hydrate the store with the initial user session\n        if (user) {\n            storeRef.current.dispatch(setCredentials({ user }))\n        }\n    }\n\n    return <Provider store={storeRef.current}>{children}</Provider>\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQe,SAAS,cAAc,EAClC,QAAQ,EACR,IAAI,EAIP;;IACG,MAAM,WAAW,IAAA,uSAAM,EAAkB;IACzC,IAAI,CAAC,SAAS,OAAO,EAAE;QACnB,wDAAwD;QACxD,SAAS,OAAO,GAAG,IAAA,qIAAS;QAE5B,kDAAkD;QAClD,IAAI,MAAM;YACN,SAAS,OAAO,CAAC,QAAQ,CAAC,IAAA,wJAAc,EAAC;gBAAE;YAAK;QACpD;IACJ;IAEA,qBAAO,6TAAC,iTAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC/C;GAnBwB;KAAA"}}]
}